"use strict";var EventEmitter=function(){function t(){this._events={}}return t.prototype.emit=function(t){if("string"==typeof t&&t&&this._events[t])for(var e=getArgs(arguments,1),n=this._events[t],r=n.length,i=0;i<r;i++)n[i].apply(this,e);return this},t.prototype.addListener=function(t,e){return"string"==typeof t&&t&&"function"==typeof e&&(this._events[t]||(this._events[t]=[]),this._events[t].push(e)),this},t.prototype.removeListener=function(t,e){if("string"==typeof t&&t&&"function"==typeof e&&this._events[t]){var n=this._events[t],r=n.lastIndexOf(e);-1<r&&n.splice(r,1)}return this},t.prototype.removeAllListeners=function(){return this._events={},this},t.prototype.once=function(t,e){if("string"==typeof t&&t&&"function"==typeof e){var n={eventName:t,listener:e,wrappedListener:void 0},r=this._once.bind(this,n);n.wrappedListener=r,this.addListener(t,r)}return this},t.prototype._once=function(t){t.wrappedListener&&(this.removeListener(t.eventName,t.wrappedListener),t.listener.apply(this,getArgs(arguments,1)))},t}();function getArgs(t,e){for(var n=[],r=t.length,i=e;i<r;i++)n.push(t[i]);return n}EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.off=EventEmitter.prototype.removeListener,module.exports=EventEmitter;