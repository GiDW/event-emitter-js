'use strict';function f(){function c(){this._events={}}function h(a){this.removeListener(a.b,a.a);a.listener.apply(this,g(arguments,1))}function g(a,b){var d;var e=[];for(d=a.length;b<d;b++)e.push(a[b]);return e}c.prototype.emit=function(a){var b;if('string'===typeof a&&a&&this._events[a]){var d=g(arguments,1);var e=this._events[a];var k=e.length;for(b=0;b<k;b++)e[b].apply(this,d)}return this};c.prototype.addListener=function(a,b){'string'===typeof a&&a&&'function'===typeof b&&(this._events[a]||(this._events[a]=
[]),this._events[a].push(b));return this};c.prototype.removeListener=function(a,b){'string'===typeof a&&a&&'function'===typeof b&&this._events[a]&&(a=this._events[a],b=a.lastIndexOf(b),-1<b&&a.splice(b,1));return this};c.prototype.removeAllListeners=function(){this._events={};return this};c.prototype.once=function(a,b){if('string'===typeof a&&a&&'function'===typeof b){var d={b:a,listener:b,a:null};b=h.bind(this,d);d.a=b;this.addListener(a,b)}return this};c.prototype.on=c.prototype.addListener;c.prototype.off=
c.prototype.removeListener;return c}'function'===typeof define&&define.amd?define([],f):'object'===typeof module&&module.exports?module.exports=f():('undefined'!==typeof self?self:this).EventEmitter=f();
